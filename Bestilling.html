<!DOCTYPE HTML>
<html>
	<head>
		<title>Bestill billetter til Joyland Adventure Park</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">
		<div id="wrapper" class="fade-in">
			<div id="intro">
				<h1>Book opplevelsen din n책</h1>
				<p>Bestill din opplevelse enkelt og sikkert her!</p>
				<ul class="actions">
					<li><a href="#best" class="button icon solid solo fa-arrow-down scrolly"></a></li>
				</ul>
			</div>
				<header id="header">
					<a href="index.html" class="logo"></a>
				</header>
				<nav id="nav">
					<ul class="links">
						<li><a href="index.html">Infosiden</a></li>
						<li><a href="Menyen.html">Menysiden</a></li>
						<li class="active"><a href="Bestilling.html">Bestillingssiden</a></li>
					</ul>
				</nav>
		<div id="main">
			<h1 id="best"><a href="">Bestill din dag med moro og spenning</a></h1>
			<form>
				<label for="adult">Antall voksne (295 kr per voksen)</label>
				<input type="number" id="adult" name="adult" min="0">
				<br>
				<label for="child">Antall barn, 3-16 책r (149 kr per barn)</label>
				<input type="number" id="child" name="child" min="0">
				<br>
				<label for="infant">Antall barn, 0-3 책r (gratis)</label>
				<input type="number" id="infant" name="infant" min="0">
				<br>
				<label for="stroller">Barnevogn</label>
				<select id="stroller" name="stroller">
					<option value="no">Nei</option>
					<option value="yes">Ja</option>
				</select>
				<br>
				<label for="waterpark">Tilgang til badeland (139 kr per person, uavhengig av alder)</label>
				<input type="number" id="waterpark" name="waterpark" min="0">
				<br>
				<label for="surprise">Overraskelsesposer med godteri og leke (99 kr per pose)</label>
				<input type="number" id="surprise" name="surprise" min="0">
				<br>
				<p id="total">Totalpris: 0 kr</p>
				<p id="order">Ingenting er bestilt</p>
			</form>
			<h2>Pakke med 10 ANTALL VOKSNE, <br> 10 ANTALL BARN, <br>BARNEVOGN JA, <br> TILGANG TIL BADELAND, <br> 10 OVERRASKELSESPOSER MED GODTERI OG LEKE</h2>
<div id="smart-button-container">
      <div style="text-align: center;">
        <div id="paypal-button-container"></div>
      </div>
    </div>
  <script src="https://www.paypal.com/sdk/js?client-id=AV80nZnM7qGomB-Xx65c_x0542MvUwkIXkrStRconYcFlts1KWAM9uLGPwLLfvAZPEn6ZAPJgxOsHxWE&enable-funding=venmo&currency=NOK" data-sdk-integration-source="button-factory"></script>
  <script>
    function initPayPalButton() {
      paypal.Buttons({
        style: {
          shape: 'pill',
          color: 'blue',
          layout: 'vertical',
          label: 'paypal',
          
        },

        createOrder: function(data, actions) {
          return actions.order.create({
            purchase_units: [{"description":"10 ANTALL VOKSNE\n10 ANTALL BARN\nBARNEVOGN JA\n20 TILGANG TIL BADELAND\n10 OVERRASKELSESPOSER MED GODTERI OG LEKE\n","amount":{"currency_code":"NOK","value":8210}}]
          });
        },

        onApprove: function(data, actions) {
          return actions.order.capture().then(function(orderData) {
            
            // Full available details
            console.log('Capture result', orderData, JSON.stringify(orderData, null, 2));

            // Show a success message within this page, e.g.
            const element = document.getElementById('paypal-button-container');
            element.innerHTML = '';
            element.innerHTML = '<h3>Thank you for your payment!</h3>';

            // Or go to another URL:  actions.redirect('thank_you.html');
            
          });
        },

        onError: function(err) {
          console.log(err);
        }
      }).render('#paypal-button-container');
    }
    initPayPalButton();
  </script>

			<ul class="actions special">
				<li><a href="https://methusan105.github.io/Adventure-Island/index.html" class="button large">Tilbake til Infoen</a></li>
			</ul>
			<script>
				const form = document.querySelector('form');
				form.addEventListener('input', calculateTotal);
		
				function calculateTotal(e) {
					e.preventDefault();
		
					const adult = form.adult.value;
					const child = form.child.value;
					const infant = form.infant.value;
					const stroller = form.stroller.value;
					const waterpark = form.waterpark.value;
					const surprise = form.surprise.value;
		
					let total = (adult * 295) + (child * 149) + (waterpark * 139) + (surprise * 99);
					let order = `Bestilt for ${adult} voksne, ${child} barn og ${infant} sm책barn. Barnevogn bestilt: ${stroller === 'yes' ? 'Ja' : 'Nei'}. Tilgang til badeland bestilt for ${waterpark} personer. ${surprise} overraskelsesposer bestilt.`;
		
					const totalEl = document.querySelector('#total');
					totalEl.innerHTML = `Totalpris: ${total} kr`;
		
					const orderEl = document.querySelector('#order');
					orderEl.innerHTML = order;
				}
		
			</script>
		</div>
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
